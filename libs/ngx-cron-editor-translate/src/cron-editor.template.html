<section class="cron-editor-main">
  <mat-tab-group
    class="cron-editor-container"
    (selectedTabChange)="onTabChange($event)"
    [backgroundColor]="backgroundColor"
    [color]="color"
  >
    <!-- Minute -->
    <mat-tab
      class="cron-editor-tab"
      label="{{'everyMinute' | translate}}"
      *ngIf="!options.hideMinutesTab"
      #minutesTab
    >
      <div class="cron-editor-tab-content">
        <span class="cron-form-label">{{"every" | translate}} </span>
        <cron-time-picker
          [formGroup]="minutesForm"
          [use24HourTime]="options.use24HourTime"
          [hideHours]="true"
          [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
        >
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Hourly -->
    <mat-tab
      class="cron-editor-tab"
      label="{{ 'hourly' | translate}}"
      *ngIf="!options.hideHourlyTab"
      #hourlyTab
    >
      <div class="cron-editor-tab-content">
        <span class="cron-form-label">{{"every" | translate}} </span>
        <cron-time-picker
          [formGroup]="hourlyForm"
          [use24HourTime]="options.use24HourTime"
          [hideSeconds]="options.hideSeconds ||  !isCronFlavorQuartz"
        >
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Daily-->
    <mat-tab
      class="cron-editor-tab"
      label="{{'daily' | translate}}"
      *ngIf="!options.hideDailyTab"
      #dailyTab
    >
      <div class="cron-editor-tab-content" [formGroup]="dailyForm">
        <mat-radio-group
          class="cron-editor-radio-group"
          formControlName="subTab"
        >
          <mat-radio-button
            name="subTab"
            class="cron-editor-radio-button"
            value="everyDays"
            [ngClass]="state.formRadioClass"
            checked="checked"
          >
            <span class="cron-form-label">{{"every2" | translate}} </span>

            <mat-form-field formGroupName="everyDays">
              <mat-label>{{'days' | translate}}</mat-label>
              <mat-select formControlName="days">
                <mat-option
                  *ngFor="let monthDay of selectOptions.monthDays"
                  [value]="monthDay"
                >
                  {{monthDay}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            {{'atTime' | translate}}

            <cron-time-picker
              formGroupName="everyDays"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
            >
            </cron-time-picker>
          </mat-radio-button>

          <mat-radio-button
            name="subTab"
            class="cron-editor-radio-button"
            value="everyWeekDay"
            [ngClass]="state.formRadioClass"
          >
            <span>{{'everyWeekday' | translate}} </span>

            <cron-time-picker
              formGroupName="everyWeekDay"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
            >
            </cron-time-picker>
          </mat-radio-button>
        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Weekly-->
    <mat-tab
      class="cron-editor-tab"
      label="{{'weekly' | translate}}"
      *ngIf="!options.hideWeeklyTab"
      #weeklyTab
    >
      <div class="cron-editor-tab-content">
        <span class="cron-form-label">{{'every2' | translate}} </span>

        <div [formGroup]="weeklyForm">
          <mat-checkbox class="checkbox-margin" formControlName="MON"
            >{{'monday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="TUE"
            >{{'tuesday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="WED"
            >{{'wednesday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="THU"
            >{{'thursday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="FRI"
            >{{'friday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="SAT"
            >{{'saturday' | translate}}</mat-checkbox
          >
          <mat-checkbox class="checkbox-margin" formControlName="SUN"
            >{{'sunday' | translate}}</mat-checkbox
          >
        </div>

        <span class="cron-form-label">{{'atTime' | translate}} </span>

        <cron-time-picker
          [formGroup]="weeklyForm"
          [use24HourTime]="options.use24HourTime"
          [hideSeconds]="options.hideSeconds|| !isCronFlavorQuartz"
        >
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Monthly-->
    <mat-tab
      class="cron-editor-tab"
      label="{{ 'monthly' | translate }}"
      *ngIf="!options.hideMonthlyTab"
      #monthlyTab
    >
      <div class="cron-editor-tab-content" [formGroup]="monthlyForm">
        <mat-radio-group
          class="cron-editor-radio-group"
          formControlName="subTab"
        >
          <mat-radio-button
            name="monthly-radio"
            class="cron-editor-radio-button"
            value="specificDay"
            [ngClass]="state.formRadioClass"
          >
            <!-- Spesific day -->
            <span formGroupName="specificDay">
              {{'onThe' | translate}}

              <ng-container *ngIf="options.cronFlavor === 'quartz'">
                <mat-form-field>
                  <mat-label>{{'day' | translate}}</mat-label>
                  <mat-select class="month-days" formControlName="day">
                    <mat-option
                      *ngFor="let monthDaysWithLast of selectOptions.monthDaysWithLasts"
                      [value]="monthDaysWithLast"
                    >
                      {{monthDayDisplay(monthDaysWithLast)}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              <ng-container *ngIf="options.cronFlavor === 'standard'">
                <mat-form-field>
                  <mat-label>{{'day' | translate}}</mat-label>
                  <mat-select class="month-days" formControlName="day">
                    <mat-option
                      *ngFor="let monthDaysWithOutLast of selectOptions.monthDaysWithOutLasts"
                      [value]="monthDaysWithOutLast"
                    >
                      {{monthDayDisplay(monthDaysWithOutLast)}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              {{'ofEvery' | translate}}

              <ng-container>
                <mat-form-field>
                  <mat-label>{{'month' | translate}}</mat-label>
                  <mat-select
                    class="months-small"
                    formControlName="months"
                    [ngClass]="options.formSelectClass"
                  >
                    <mat-option
                      *ngFor="let month of selectOptions.months"
                      [value]="month"
                    >
                      {{month}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              {{'atTime' | translate}}

              <cron-time-picker
                [disabled]="disabled"
                [formGroup]="monthlyForm.controls.specificDay"
                [use24HourTime]="options.use24HourTime"
                [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
              >
              </cron-time-picker>
            </span>
          </mat-radio-button>

          <mat-radio-button
            name="monthly-radio"
            class="cron-editor-radio-button"
            value="specificWeekDay"
            [ngClass]="state.formRadioClass"
          >
            <!-- Spesific Week day -->
            <span formGroupName="specificWeekDay">
              {{'inThe' | translate}}

              <mat-form-field>
                <mat-label>{{'week' | translate}}</mat-label>
                <mat-select
                  class="day-order-in-month"
                  formControlName="monthWeek"
                  [ngClass]="options.formSelectClass"
                >
                  <mat-option
                    *ngFor="let monthWeek of selectOptions.monthWeeks"
                    [value]="monthWeek"
                  >
                    {{monthWeekDisplay(monthWeek)}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field>
                <mat-label>{{'day' | translate}}</mat-label>
                <mat-select
                  class="week-days"
                  formControlName="day"
                  [ngClass]="options.formSelectClass"
                >
                  <mat-option
                    *ngFor="let day of selectOptions.days"
                    [value]="day"
                  >
                    {{dayDisplay(day)}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              {{'ofEvery' | translate}}

              <mat-form-field>
                <mat-label>{{'month' | translate}}</mat-label>
                <mat-select class="months-small" formControlName="months">
                  <mat-option
                    *ngFor="let month of selectOptions.months"
                    [value]="month"
                  >
                    {{month}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              {{'atTime' | translate}}

              <cron-time-picker
                [formGroup]="monthlyForm.controls.specificWeekDay"
                [use24HourTime]="options.use24HourTime"
                [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
              >
              </cron-time-picker>
            </span>
          </mat-radio-button>
        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Yearly-->
    <mat-tab
      class="cron-editor-tab"
      label="{{'yearly' | translate}}"
      *ngIf="!options.hideYearlyTab"
      #yearlyTab
    >
      <div class="cron-editor-tab-content" [formGroup]="yearlyForm">
        <mat-radio-group
          class="cron-editor-radio-group"
          formControlName="subTab"
        >
          <mat-radio-button
            name="yearly-radio"
            class="cron-editor-radio-button"
            value="specificMonthDay"
            [ngClass]="state.formRadioClass"
          >
            {{'onThe' | translate}}

            <mat-form-field
              formGroupName="specificMonthDay"
              *ngIf="options.cronFlavor === 'quartz'"
            >
              <mat-label>{{'day' | translate}}</mat-label>
              <mat-select class="month-days" formControlName="day">
                <mat-option
                  *ngFor="let monthDaysWithLast of selectOptions.monthDaysWithLasts"
                  [value]="monthDaysWithLast"
                >
                  {{monthDayDisplay(monthDaysWithLast)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field
              formGroupName="specificMonthDay"
              *ngIf="options.cronFlavor === 'standard'"
            >
              <mat-label>{{'day' | translate}}</mat-label>
              <mat-select class="month-days" formControlName="day">
                <mat-option
                  *ngFor="let monthDaysWithOutLast of selectOptions.monthDaysWithOutLasts"
                  [value]="monthDaysWithOutLast"
                >
                  {{monthDayDisplay(monthDaysWithOutLast)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            {{'of' | translate}}

            <mat-form-field formGroupName="specificMonthDay">
              <mat-label>{{'month' | translate}}</mat-label>
              <mat-select class="months" formControlName="month">
                <mat-option
                  *ngFor="let month of selectOptions.months"
                  [value]="month"
                >
                  {{monthDisplay(month)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            {{'atTime' | translate}}

            <cron-time-picker
              [disabled]="disabled"
              [formGroup]="yearlyForm.controls.specificMonthDay"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
            >
            </cron-time-picker>
          </mat-radio-button>

          <mat-radio-button
            name="yearly-radio"
            class="cron-editor-radio-button"
            value="specificMonthWeek"
            [ngClass]="state.formRadioClass"
          >
            {{'inThe' | translate}}

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label>{{'week' | translate}}</mat-label>
              <mat-select
                class="day-order-in-month"
                formControlName="monthWeek"
              >
                <mat-option
                  *ngFor="let monthWeek of selectOptions.monthWeeks"
                  [value]="monthWeek"
                >
                  {{monthWeekDisplay(monthWeek)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label>{{'day' | translate}}</mat-label>
              <mat-select class="week-days" formControlName="day">
                <mat-option
                  *ngFor="let day of selectOptions.days"
                  [value]="day"
                >
                  {{dayDisplay(day)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            {{'of' | translate}}

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label>Month</mat-label>
              <mat-select class="months" formControlName="month">
                <mat-option
                  *ngFor="let month of selectOptions.months"
                  [value]="month"
                >
                  {{monthDisplay(month)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            {{'atTime' | translate}}

            <cron-time-picker
              [disabled]="disabled"
              [formGroup]="yearlyForm.controls.specificMonthWeek"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz"
            >
            </cron-time-picker>
          </mat-radio-button>
        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Advanced-->
    <mat-tab
      class="cron-editor-tab"
      label="{{'advanced' | translate}}"
      *ngIf="!options.hideAdvancedTab"
      #advancedTab
    >
      <div class="cron-editor-tab-content" [formGroup]="advancedForm">
        <mat-form-field>
          <mat-label>{{'expresion' | translate}}</mat-label>
          <input
            matInput
            type="text"
            class="advanced-cron-editor-input"
            formControlName="expression"
          />
        </mat-form-field>
      </div>
    </mat-tab>
  </mat-tab-group>
</section>
